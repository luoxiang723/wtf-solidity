// ==UserScript==
// @name         yeye
// @version      0.20.2202603
// @description  ｔｕｒｎ ｐｌａｉｎ ｔｅｘｔ ｕｒｌｓ ｉｎｔｏ ｃｌｉｃｋａｂｌｅ ｌｉｎｋｓ
// @include      *
// ==/UserScript==

function _0x543e(){var e=["setAttribute","UNORDERED_NODE_SNAPSHOT_TYPE",'<a href="$1" target="_blank" class="textToLink">$1</a>',"top","localName","function","nodeName","createElement","body","snapshotLength","indexOf","FILTER_ACCEPT","getAttribute","innerHTML","span","1816602ZDQtVT","currentNode","join","file://","target","parentNode","https://","#cdata-section","title","nextNode","mouseover","addedNodes","9GuWtLM","evaluate","className","111923QEPCoQ","observe","thunder://","4252430gnepJX","ed2k://","ftp://","split","http://","912339aDNLtj","a,svg,canvas,applet,input,button,area,pre,embed,frame,frameset,head,iframe,img,option,map,meta,noscript,object,script,style,textarea,code","mailto://","document","textContent","textToLink","72vfNYED","toLowerCase","FILTER_REJECT","SHOW_TEXT","24384280gXiicY","replaceChild","2aeUyah","href",") and not(ancestor::","createTreeWalker","childList","1325552quIlRd","5740986snCwFS","snapshotItem","length","originalTarget","now"];return(_0x543e=function(){return e})()}var clearLink,excludedTags,linkFilter,linkMixInit,linkPack,linkify,observePage,observer,setLink,urlPrefixes,url_regexp,xPath,_0x3b5f55=_0x2cfe;function _0x2cfe(e,t){var n=_0x543e();return(_0x2cfe=function(e,t){return n[e-=328]})(e,t)}!function(){for(var e=_0x2cfe,t=_0x543e();;)try{if(551611==-parseInt(e(384))+-parseInt(e(335))/2*(parseInt(e(361))/3)+-parseInt(e(340))/4+-parseInt(e(379))/5+parseInt(e(341))/6+parseInt(e(376))/7*(-parseInt(e(329))/8)+parseInt(e(373))/9*(parseInt(e(333))/10))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),url_regexp=/((https?:\/\/|www\.)[\x21-\x7e]+[\w\/=]|\w([\w._-])+@\w[\w\._-]+\.(com|cn|org|net|info|tv|cc|gov|edu)|(\w[\w._-]+\.(com|cn|org|net|info|tv|cc|gov|edu))(\/[\x21-\x7e]*[\w\/])?|ed2k:\/\/[\x21-\x7e]+\|\/|thunder:\/\/[\x21-\x7e]+=)/gi,urlPrefixes=[_0x3b5f55(383),_0x3b5f55(367),_0x3b5f55(381),_0x3b5f55(378),_0x3b5f55(380),"mailto://",_0x3b5f55(364)],clearLink=function(e){var t,n,r,i,a=_0x3b5f55,o=null!=(o=e[a(344)])?o:e[a(365)];if(null!=o&&"a"===o[a(350)]&&-1!==(null!=(e=o[a(375)])?e[a(356)](a(328)):void 0)){for(i=o[a(358)](a(336)),t=0,n=urlPrefixes[a(343)];t<n;t++)if(r=urlPrefixes[t],0===i[a(356)](r))return;return-1!==i.indexOf("@")?o[a(346)](a(336),a(386)+i):o.setAttribute("href","http://"+i)}},document.addEventListener(_0x3b5f55(371),clearLink),setLink=function(e){var t,n,r,i=_0x3b5f55;if(null!=e&&-1===(null!=(t=e[i(366)])&&null!=(n=t[i(375)])&&typeof n.indexOf===i(351)?n[i(356)](i(328)):void 0)&&e[i(352)]!==i(368)&&(r=e[i(388)].replace(url_regexp,i(348)),(null!=(t=e[i(388)])?t.length:void 0)!==r[i(343)]))return(n=document[i(353)](i(360)))[i(359)]=r,e[i(366)][i(334)](n,e)},excludedTags=_0x3b5f55(385)[_0x3b5f55(382)](","),xPath="//text()[not(ancestor::"+excludedTags[_0x3b5f55(363)](_0x3b5f55(337))+")]",linkPack=function(e,t){for(var n,r,i,a,o,f,l,u=_0x3b5f55,s=Date[u(345)]();t+1e4<e[u(355)];){for(o=(n=r=a=t)+1e4;a<=o?r<=o:o<=r;n=a<=o?++r:--r)setLink(e.snapshotItem(n));if(t+=1e4,2500<Date.now()-s)return}for(n=i=f=t,l=e[u(355)];f<=l?i<=l:l<=i;n=f<=l?++i:--i)setLink(e[u(342)](n))},linkify=function(e){var t=_0x3b5f55,e=document[t(374)](xPath,e,null,XPathResult[t(347)],null);return linkPack(e,0)},linkFilter=function(e){for(var t=_0x3b5f55,n=0,r=excludedTags[t(343)];n<r;n++)if(excludedTags[n]===e[t(366)][t(350)][t(330)]())return NodeFilter[t(331)];return NodeFilter[t(357)]},observePage=function(e){for(var t=_0x3b5f55,n=document[t(338)](e,NodeFilter[t(332)],{acceptNode:linkFilter},!1);n[t(370)]();)setLink(n[t(362)])},observer=new window.MutationObserver(function(e){for(var t,n,r,i,a,o=_0x3b5f55,f=0,l=e.length;f<l;f++)if((i=e[f]).type===o(339))for(n=0,r=(a=i[o(372)])[o(343)];n<r;n++)t=a[n],observePage(t)}),setTimeout(linkMixInit=function(){var e=_0x3b5f55;if(window===window[e(349)]&&""!==window[e(387)][e(369)])return linkify(document.body),observer[e(377)](document[e(354)],{childList:!0,subtree:!0})},100);
